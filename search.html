<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Search Produk</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; }
body { background:white; padding-bottom:70px; }

/* NAVBAR SEARCH */
.navbar {
  background: linear-gradient(90deg, #5F2EEA, #9B5DE5);
  padding:10px 20px;
  display:flex;
  align-items:center;
  gap:10px;
  color:#fff;
  position: sticky;
  top:0;
  z-index:10;
}
.navbar input {
  width:100%;
  border:none;
  outline:none;
  padding:12px;
  border-radius:12px;
  cursor:pointer;
}

/* FILTER / SORTING */
.filter-sort { display:flex; gap:10px; padding:10px 15px; flex-wrap:wrap; }
.filter-dropdown { position:relative; }
.filter-dropdown button {
  padding:8px 12px;
  border-radius:8px;
  border:1px solid #ccc;
  background:white;
  cursor:pointer;
  box-shadow:0 2px 6px rgba(0,0,0,0.1);
  transition:0.2s;
}
.filter-dropdown button:hover { background:#f0f0f0; }
.filter-options {
  display:none;
  position:absolute;
  top:110%;
  left:0;
  background:white;
  border:1px solid #ccc;
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
  z-index:50;
  min-width:150px;
  overflow:hidden;
}
.filter-options div {
  padding:8px 12px;
  cursor:pointer;
  transition:0.2s;
}
.filter-options div:hover { background:#5F2EEA; color:white; }
.filter-options div.active { background:#5F2EEA; color:white; font-weight:bold; }

/* PRODUCTS GRID */
.products {
  padding:15px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:15px;
}
.product-card {
  background:white;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 3px 6px rgba(0,0,0,0.1);
  transition:0.2s;
  cursor:pointer;
}
.product-card:hover { transform:scale(1.05); }
.product-card img { width:100%; height:160px; object-fit:cover; }
.product-info { padding:10px; }
.product-info h3 { font-size:15px; margin-bottom:4px; height:35px; }
.price { color:#5F2EEA; font-weight:bold; }
.add-btn {
  background:#5F2EEA;
  color:white;
  border:none;
  padding:6px 10px;
  width:100%;
  border-radius:6px;
  margin-top:8px;
  cursor:pointer;
}

/* BOTTOM NAVBAR */
.bottom-nav {
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  height:60px;
  background:#fff;
  display:flex;
  justify-content:space-around;
  align-items:center;
  border-top:1px solid #ddd;
  box-shadow:0 -2px 5px rgba(0,0,0,0.1);
}
.bottom-nav a {
  text-decoration:none;
  color:#555;
  font-size:12px;
  display:flex;
  flex-direction:column;
  align-items:center;
}
.bottom-nav a span { margin-top:2px; }
.bottom-nav a.active { color:#ee4d2d; }
</style>
</head>
<body>

<!-- NAVBAR SEARCH -->
<div class="navbar">
  <input type="text" id="searchInput" placeholder="Cari produk...">
</div>

<!-- FILTER / SORTING -->
<div class="filter-sort">
  <div class="filter-dropdown">
    <button id="categoryFilterBtn">Kategori ‚ñº</button>
    <div class="filter-options" id="categoryOptions">
      <div data-category="all" class="active">Semua</div>
      <div data-category="elektronik">Elektronik</div>
      <div data-category="fashion">Fashion</div>
      <div data-category="gaming">Gaming</div>
      <div data-category="kecantikan">Kecantikan</div>
      <div data-category="perabot">Perabot Rumah</div>
    </div>
  </div>

  <div class="filter-dropdown">
    <button id="priceFilterBtn">Harga ‚ñº</button>
    <div class="filter-options" id="priceOptions">
      <div data-price="default" class="active">Default</div>
      <div data-price="asc">Harga Terendah</div>
      <div data-price="desc">Harga Tertinggi</div>
    </div>
  </div>
</div>

<!-- PRODUCTS -->
<div class="products" id="productList"></div>

<!-- BOTTOM NAVBAR -->
<div class="bottom-nav">
  <a href="index.html">üè†<span>Beranda</span></a>
  <a href="notif.html" class="active">üîî<span>Notifikasi</span></a>
  <a href="account.html">üë§<span>Saya</span></a>
</div>

<script>
// DATA PRODUK
const products = [
  { id:1, name:"Auzy - Kaos Hitam", price:59000, img:"https://down-id.img.susercontent.com/file/id-11134207-7r98q-lwf6r9lcro22f4", category:"fashion" },
  { id:2, name:"Auzy - Kaos Putih", price:59000, img:"https://down-id.img.susercontent.com/file/id-11134207-7r98x-lwf6r9lcxabud3", category:"fashion" },
  { id:3, name:"Flypower - Kaos Hitam", price:125000, img:"https://cf.shopee.co.id/file/id-11134207-7r98o-lxgrygh8j31q87", category:"fashion" },
  { id:4, name:"Geo - Kaos Distro", price:76000, img:"https://natgeostore.id/cdn/shop/files/photo_6064289747037176920_w.jpg?v=1745155269&width=1706", category:"fashion" },
  { id:5, name:"Rizz - Kaos Distro", price:99000, img:"https://www.russ.co.id/cdn/shop/products/COKSUFALLEN1WEB_600x.jpg?v=1739798069", category:"fashion" },
  { id:6, name:"HOS - Jaket Varsity", price:200000, img:"https://houseofsmith.co.id/wp-content/uploads/2022/04/New-Chamsity-8-a.jpg", category:"fashion" },
  { id:7, name:"Wadezig - Jaket Hoodie", price:169000, img:"https://id-test-11.slatic.net/p/ba28687375c2f93ddef5652510fad308.jpg", category:"fashion" },
  { id:8, name:"Sepatu Sneakers", price:150000, img:"https://img.lazcdn.com/g/p/5a9457693b8a280c02b15abbe300a889.jpg_720x720q80.jpg", category:"fashion" },
  { id:9, name:"H&K - Kaos Distro", price:76000, img:"https://admin.pastoralyubileum2025.com/file/get/catalogs/kaos-luce-awan/kaos.jpg", category:"fashion" },
  { id:10, name:"Kaos Distro", price:99000, img:"https://marketplace.canva.com/EAF5R2Z9Fyo/1/0/1600w/canva-abu---abu-minimalis-jual-kaos-kiriman-instagram-sCrxnOsyZlY.jpg", category:"fashion" },
  { id:11, name:"Kaos Polos Premium 11", price:40000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:12, name:"Kaos Polos Premium 12", price:41000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:13, name:"Kaos Polos Premium 13", price:42000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:14, name:"Kaos Polos Premium 14", price:43000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:15, name:"Kaos Polos Premium 15", price:44000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:16, name:"Kaos Polos Premium 16", price:45000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:17, name:"Kaos Polos Premium 17", price:46000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:18, name:"Kaos Polos Premium 18", price:47000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:19, name:"Kaos Polos Premium 19", price:48000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:20, name:"Kaos Polos Premium 20", price:49000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:21, name:"Kaos Polos Premium 21", price:50000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:22, name:"Kaos Polos Premium 22", price:51000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:23, name:"Kaos Polos Premium 23", price:52000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:24, name:"Kaos Polos Premium 24", price:53000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:25, name:"Kaos Polos Premium 25", price:54000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:26, name:"Kaos Polos Premium 26", price:55000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:27, name:"Kaos Polos Premium 27", price:56000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:28, name:"Kaos Polos Premium 28", price:57000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:29, name:"Kaos Polos Premium 29", price:58000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:30, name:"Kaos Polos Premium 30", price:59000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:31, name:"Kaos Polos Premium 31", price:60000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:32, name:"Kaos Polos Premium 32", price:61000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:33, name:"Kaos Polos Premium 33", price:62000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:34, name:"Kaos Polos Premium 34", price:63000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" },
  { id:35, name:"Kaos Polos Premium 35", price:64000, img:"https://i.imgur.com/mE5ZP3R.jpeg", category:"fashion" }
];

const productList = document.getElementById("productList");
const searchInput = document.getElementById("searchInput");

// CART
let cart = JSON.parse(localStorage.getItem("cart")) || [];
function addToCart(id){
  const item = products.find(p=>p.id===id);
  const exist = cart.find(p=>p.id===id);
  if(exist){ exist.qty+=1; }
  else { cart.push({...item, qty:1}); }
  localStorage.setItem("cart", JSON.stringify(cart));
  alert(`${item.name} ditambahkan ke keranjang!`);
}

// LOAD PRODUK
function loadProducts(list){
  productList.innerHTML="";
  if(list.length===0){
    productList.innerHTML="<p style='text-align:center; padding:20px;'>Produk tidak ditemukan.</p>";
    return;
  }
  list.forEach(p=>{
    productList.innerHTML += `
      <div class="product-card">
        <img src="${p.img}" alt="${p.name}">
        <div class="product-info">
          <h3>${p.name}</h3>
          <p class="price">Rp ${p.price.toLocaleString()}</p>
          <button class="add-btn" onclick="addToCart(${p.id})">+ Keranjang</button>
        </div>
      </div>
    `;
  });
}

// SEARCH LIVE
searchInput.addEventListener("keyup", ()=>{
  filterProducts();
});

// FILTER DROPDOWN
document.querySelectorAll('.filter-dropdown button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const options = btn.nextElementSibling;
    options.style.display = options.style.display==='block' ? 'none' : 'block';
  });
});

// FILTER KATEGORI
const categoryOptions = document.getElementById('categoryOptions');
categoryOptions.querySelectorAll('div').forEach(option=>{
  option.addEventListener('click', ()=>{
    categoryOptions.querySelectorAll('div').forEach(o=>o.classList.remove('active'));
    option.classList.add('active');
    categoryOptions.style.display='none';
    filterProducts();
  });
});

// FILTER HARGA
const priceOptions = document.getElementById('priceOptions');
priceOptions.querySelectorAll('div').forEach(option=>{
  option.addEventListener('click', ()=>{
    priceOptions.querySelectorAll('div').forEach(o=>o.classList.remove('active'));
    option.classList.add('active');
    priceOptions.style.display='none';
    filterProducts();
  });
});

// Tutup dropdown saat klik luar
document.addEventListener('click', e=>{
  if(!e.target.closest('.filter-dropdown')){
    document.querySelectorAll('.filter-options').forEach(o=>o.style.display='none');
  }
});

// FUNCTION FILTER UTAMA
function filterProducts(){
  let filtered = [...products];

  // Search
  const keyword = searchInput.value.toLowerCase();
  if(keyword) filtered = filtered.filter(p=>p.name.toLowerCase().includes(keyword));

  // Kategori
  const activeCategory = categoryOptions.querySelector('div.active').dataset.category;
  if(activeCategory!=="all") filtered = filtered.filter(p=>p.category===activeCategory);

  // Harga
  const activePrice = priceOptions.querySelector('div.active').dataset.price;
  if(activePrice==="asc") filtered.sort((a,b)=>a.price-b.price);
  if(activePrice==="desc") filtered.sort((a,b)=>b.price-a.price);

  loadProducts(filtered);
}

// LOAD SEMUA PRODUK AWAL
loadProducts(products);
</script>
</body>
</html>
